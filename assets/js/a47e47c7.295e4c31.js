"use strict";(self.webpackChunkwebsite_new=self.webpackChunkwebsite_new||[]).push([[9948],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),c=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},p=function(e){var t=c(e.components);return o.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=c(n),m=r,h=u["".concat(s,".").concat(m)]||u[m]||d[m]||i;return n?o.createElement(h,a(a({ref:t},p),{},{components:n})):o.createElement(h,a({ref:t},p))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,a=new Array(i);a[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:r,a[1]=l;for(var c=2;c<i;c++)a[c]=n[c];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},3916:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var o=n(7462),r=(n(7294),n(3905));const i={layout:"docs",title:"Troubleshooting",section:"chisel3"},a="Troubleshooting",l={unversionedId:"cookbooks/troubleshooting",id:"cookbooks/troubleshooting",title:"Troubleshooting",description:"This page is a starting point for recording common and not so common problems in developing with Chisel3.  In particular, those situations where there is a work around that will keep you going.",source:"@site/docs/cookbooks/troubleshooting.md",sourceDirName:"cookbooks",slug:"/cookbooks/troubleshooting",permalink:"/chisel/docs/cookbooks/troubleshooting",draft:!1,editUrl:"https://github.com/chipsalliance/chisel/tree/main/docs/src/cookbooks/troubleshooting.md",tags:[],version:"current",frontMatter:{layout:"docs",title:"Troubleshooting",section:"chisel3"},sidebar:"tutorialSidebar",previous:{title:"Serialization Cookbook",permalink:"/chisel/docs/cookbooks/serialization"},next:{title:"Explanations",permalink:"/chisel/docs/explanations/"}},s={},c=[{value:"<code>type mismatch</code> specifying width/value of a <code>UInt</code>/<code>SInt</code>",id:"type-mismatch-specifying-widthvalue-of-a-uintsint",level:3}],p={toc:c},u="wrapper";function d(e){let{components:t,...n}=e;return(0,r.kt)(u,(0,o.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"troubleshooting"},"Troubleshooting"),(0,r.kt)("p",null,"This page is a starting point for recording common and not so common problems in developing with Chisel3.  In particular, those situations where there is a work around that will keep you going."),(0,r.kt)("h3",{id:"type-mismatch-specifying-widthvalue-of-a-uintsint"},(0,r.kt)("inlineCode",{parentName:"h3"},"type mismatch")," specifying width/value of a ",(0,r.kt)("inlineCode",{parentName:"h3"},"UInt"),"/",(0,r.kt)("inlineCode",{parentName:"h3"},"SInt")),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"I have some old code that used to work correctly in chisel2 (and still does if I use the ",(0,r.kt)("inlineCode",{parentName:"em"},"import Chisel._")," compatibility layer)\nbut causes a ",(0,r.kt)("inlineCode",{parentName:"em"},"type mismatch")," error in straight chisel3:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scala"},"class TestBlock extends Module {\n    val io = IO(new Bundle {\n        val output = Output(UInt(width=3))\n    })\n}\n")),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"produces")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"type mismatch;\n[error]  found   : Int(3)\n[error]  required: chisel3.internal.firrtl.Width\n[error]         val output = Output(UInt(width=3))\n")),(0,r.kt)("p",null,"The single argument, multi-function object/constructors from chisel2 have been removed from chisel3.\nIt was felt these were too prone to error and made it difficult to diagnose error conditions in chisel3 code."),(0,r.kt)("p",null,"In chisel3, the single argument to the ",(0,r.kt)("inlineCode",{parentName:"p"},"UInt"),"/",(0,r.kt)("inlineCode",{parentName:"p"},"SInt")," object/constructor specifies the ",(0,r.kt)("em",{parentName:"p"},"width")," and must be a ",(0,r.kt)("inlineCode",{parentName:"p"},"Width")," type.\nAlthough there are no automatic conversions from ",(0,r.kt)("inlineCode",{parentName:"p"},"Int")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"Width"),", an ",(0,r.kt)("inlineCode",{parentName:"p"},"Int")," may be converted to a ",(0,r.kt)("inlineCode",{parentName:"p"},"Width")," by applying the ",(0,r.kt)("inlineCode",{parentName:"p"},"W")," method to an ",(0,r.kt)("inlineCode",{parentName:"p"},"Int"),".\nIn chisel3, the above code becomes:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scala"},"import chisel3._\n\nclass TestBlock extends Module {\n    val io = IO(new Bundle {\n        val output = Output(UInt(3.W))\n    })\n}\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"UInt"),"/",(0,r.kt)("inlineCode",{parentName:"p"},"SInt")," literals may be created from an ",(0,r.kt)("inlineCode",{parentName:"p"},"Int")," with the application of either the ",(0,r.kt)("inlineCode",{parentName:"p"},"U")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"S")," method."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scala"},"UInt(42)\n// error: type mismatch;\n//  found   : Int(42)\n//  required: chisel3.internal.firrtl.Width\n// UInt(42)\n//      ^^\n")),(0,r.kt)("p",null,"in chisel2, becomes"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scala"},"42.U\n")),(0,r.kt)("p",null,"in chisel3"),(0,r.kt)("p",null,"A literal with a specific width is created by calling the ",(0,r.kt)("inlineCode",{parentName:"p"},"U")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"S")," method with a ",(0,r.kt)("inlineCode",{parentName:"p"},"W")," argument.\nUse:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scala"},"1.S(8.W)\n")),(0,r.kt)("p",null,"to create an 8-bit wide (signed) literal with value 1."))}d.isMDXComponent=!0}}]);