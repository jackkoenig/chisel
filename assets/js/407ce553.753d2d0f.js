"use strict";(self.webpackChunkwebsite_new=self.webpackChunkwebsite_new||[]).push([[5719],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>m});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=n.createContext({}),s=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):p(p({},t),e)),r},c=function(e){var t=s(e.components);return n.createElement(l.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},y=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=s(r),y=o,m=u["".concat(l,".").concat(y)]||u[y]||d[y]||a;return r?n.createElement(m,p(p({ref:t},c),{},{components:r})):n.createElement(m,p({ref:t},c))}));function m(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,p=new Array(a);p[0]=y;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[u]="string"==typeof e?e:o,p[1]=i;for(var s=2;s<a;s++)p[s]=r[s];return n.createElement.apply(null,p)}return n.createElement.apply(null,r)}y.displayName="MDXCreateElement"},5479:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>p,default:()=>d,frontMatter:()=>a,metadata:()=>i,toc:()=>s});var n=r(7462),o=(r(7294),r(3905));const a={layout:"docs",title:"Properties",section:"chisel3"},p="Properties",i={unversionedId:"explanations/properties",id:"explanations/properties",title:"Properties",description:"Chisel properties represent information about the design that is not hardware.",source:"@site/docs/explanations/properties.md",sourceDirName:"explanations",slug:"/explanations/properties",permalink:"/chisel/docs/explanations/properties",draft:!1,editUrl:"https://github.com/chipsalliance/chisel/tree/main/docs/src/explanations/properties.md",tags:[],version:"current",frontMatter:{layout:"docs",title:"Properties",section:"chisel3"},sidebar:"tutorialSidebar",previous:{title:"Printing",permalink:"/chisel/docs/explanations/printing"},next:{title:"Reset",permalink:"/chisel/docs/explanations/reset"}},l={},s=[{value:"Property Types",id:"property-types",level:2},{value:"Using Properties",id:"using-properties",level:2},{value:"Property Ports",id:"property-ports",level:3},{value:"Property Connections",id:"property-connections",level:3},{value:"Property Values",id:"property-values",level:3},{value:"Property Sequences",id:"property-sequences",level:3}],c={toc:s},u="wrapper";function d(e){let{components:t,...r}=e;return(0,o.kt)(u,(0,n.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"properties"},"Properties"),(0,o.kt)("p",null,"Chisel ",(0,o.kt)("em",{parentName:"p"},"properties")," represent information about the design that is not hardware.\nThis is useful to capture domain-specific knowledge and design intent alongside\nthe hardware description within the same generator."),(0,o.kt)("h2",{id:"property-types"},"Property Types"),(0,o.kt)("p",null,"The core primitive for using properties is the ",(0,o.kt)("inlineCode",{parentName:"p"},"Property")," type."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"Property")," types work similarly to the other Chisel\n",(0,o.kt)("a",{parentName:"p",href:"../explanations/data-types"},"Data Types"),", but rather than specifying the type of\nvalues held in state elements or flowing through wires in the circuit,\nproperties never flow through or affect the generated hardware. Instead, they\nflow through the hierarchy as ports that can be connected."),(0,o.kt)("p",null,"What makes ",(0,o.kt)("inlineCode",{parentName:"p"},"Property")," types useful is their ability to express non-hardware\ninformation that is present in the generated hierarchy, and can be composed to\ncreate domain-specific data models that are tightly coupled to the design. An\ninput port with ",(0,o.kt)("inlineCode",{parentName:"p"},"Property")," type represents a part of the data model that must be\nsupplied when its module is instantiated. An output port with ",(0,o.kt)("inlineCode",{parentName:"p"},"Property")," type\nrepresents a part of the data model that may be accessed when its module is\ninstantiated. As the complete design is generated, an arbitrary data model can\nbe generated alongside it."),(0,o.kt)("p",null,"The following are legal ",(0,o.kt)("inlineCode",{parentName:"p"},"Property")," types:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"Property[Int]")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"Property[Long]")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"Property[BigInt]")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"Property[String]")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"Property[Boolean]")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"Property[Seq[A]]")," (where ",(0,o.kt)("inlineCode",{parentName:"li"},"A")," is itself a ",(0,o.kt)("inlineCode",{parentName:"li"},"Property"),")")),(0,o.kt)("h2",{id:"using-properties"},"Using Properties"),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"Property")," functionality can be used with the following imports:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-scala"},"import chisel3._\nimport chisel3.properties.Property\n")),(0,o.kt)("p",null,"The subsections below show example uses of ",(0,o.kt)("inlineCode",{parentName:"p"},"Property")," types in various Chisel\nconstructs."),(0,o.kt)("h3",{id:"property-ports"},"Property Ports"),(0,o.kt)("p",null,"The legal ",(0,o.kt)("inlineCode",{parentName:"p"},"Property")," types may be used in ports. For example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-scala"},"class PortsExample extends RawModule {\n  // An Int Property type port.\n  val myPort = IO(Input(Property[Int]()))\n}\n")),(0,o.kt)("h3",{id:"property-connections"},"Property Connections"),(0,o.kt)("p",null,"The legal ",(0,o.kt)("inlineCode",{parentName:"p"},"Property")," types may be connected using the ",(0,o.kt)("inlineCode",{parentName:"p"},":=")," operator. For\nexample, an input ",(0,o.kt)("inlineCode",{parentName:"p"},"Property")," type port may be connected to an output ",(0,o.kt)("inlineCode",{parentName:"p"},"Property"),"\ntype port:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-scala"},"class ConnectExample extends RawModule {\n  val inPort = IO(Input(Property[Int]()))\n  val outPort = IO(Output(Property[Int]()))\n  outPort := inPort\n}\n")),(0,o.kt)("p",null,"Connections are only supported between the same ",(0,o.kt)("inlineCode",{parentName:"p"},"Property")," type. For example, a\n",(0,o.kt)("inlineCode",{parentName:"p"},"Property[Int]")," may only be connected to a ",(0,o.kt)("inlineCode",{parentName:"p"},"Property[Int]"),". This is enforced by\nthe Scala compiler."),(0,o.kt)("h3",{id:"property-values"},"Property Values"),(0,o.kt)("p",null,"The legal ",(0,o.kt)("inlineCode",{parentName:"p"},"Property")," types may be used to construct values by applying the\n",(0,o.kt)("inlineCode",{parentName:"p"},"Property")," object to a value of the ",(0,o.kt)("inlineCode",{parentName:"p"},"Property")," type. For example, a\n",(0,o.kt)("inlineCode",{parentName:"p"},"Property")," value may be connected to an output ",(0,o.kt)("inlineCode",{parentName:"p"},"Property")," type port:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-scala"},"class LiteralExample extends RawModule {\n  val outPort = IO(Output(Property[Int]()))\n  outPort := Property(123)\n}\n")),(0,o.kt)("h3",{id:"property-sequences"},"Property Sequences"),(0,o.kt)("p",null,"Similarly to the primitive ",(0,o.kt)("inlineCode",{parentName:"p"},"Property")," types, sequences of ",(0,o.kt)("inlineCode",{parentName:"p"},"Properties")," may also be\nfor creating ports and values and they may also be connected:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-scala"},"class SequenceExample extends RawModule {\n  val inPort = IO(Input(Property[Int]()))\n  val outPort1 = IO(Output(Property[Seq[Int]]()))\n  val outPort2 = IO(Output(Property[Seq[Int]]()))\n  // A Seq of literals can by turned into a Property\n  outPort1 := Property(Seq(123, 456))\n  // Property ports and literals can be mixed together into a Seq\n  outPort2 := Property(Seq(inPort, Property(789)))\n}\n")))}d.isMDXComponent=!0}}]);